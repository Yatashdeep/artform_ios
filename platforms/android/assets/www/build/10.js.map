{"version":3,"sources":["../../src/pages/inboxpage/inboxpage.module.ts","../../src/pages/inboxpage/inboxpage.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InboxpagePage } from './inboxpage';\n\n@NgModule({\n  declarations: [\n    InboxpagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(InboxpagePage),\n  ],\n  exports:[\n    InboxpagePage\n  ]\n})\nexport class InboxpagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inboxpage/inboxpage.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ModalController } from 'ionic-angular';\nimport { CreateconversationpagePage } from '../createconversationpage/createconversationpage';\nimport { Observable } from 'rxjs';\nimport{SecurityProvider}from'../../providers/security/security'\nimport { from } from 'rxjs/observable/from';\nimport { ChatinboxreplyPage } from '../chatinboxreply/chatinboxreply';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n/**\n * Generated class for the InboxpagePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-inboxpage',\n  templateUrl: 'inboxpage.html',\n})\nexport class InboxpagePage {\nfakedata=[1,2,3,4]\npage=1\ninboxdata1\ndate\ninboxdata2=[]\ninboxdata=[]\nloader\ntotalpages\nfakeUsers: Array<any> = new Array(4);\nloading\nmessagefilter\nmessagefilter2\ntitletrim\ntitletrim2\nflag\ntext\nmessage\nmessageactive\n  constructor(public modalCtrl:ModalController,public security:SecurityProvider,public navCtrl: NavController, public navParams: NavParams) {\n this.loader=true\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad InboxpagePage');\n    this.flag=2\n   this.loaddata()\n   \n  }\n  \n  loaddata(infiniteScroll?)\n  {\n    console.log('hii')\n    if(this.flag==1)\n    {\n     this.loading=true\n     console.log('loading'+this.loading)\n    }\n    {\n      this.loading=false\n    }\n   \n    Observable.of(null)\n    .flatMap(()=>this.security.inboxapi(this.page)).subscribe(data=>{\n      console.log('data',data.status)\n\n      if(data.status=='fail')\n      {\nthis.message='Welcome To Inbox'\nthis.messageactive=true\n      }\n      this.loading=true\n      this.inboxdata1=data.conversations\n      // this.inboxdata2.push(this.inboxdata1)\n      // this.inboxdata=this.inboxdata2[0]\n      this.totalpages=data.totalPages\n        if(this.totalpages==this.page)\n        {\n          \n          this.loader=false\n          this.text='No More Data'\n        }\n       this.inboxdata=this.inboxdatatest(data.conversations)\n       console.log('inboxdata',this.inboxdata)\n        if (infiniteScroll) {\n          infiniteScroll.complete();\n        }\n        \n    })\n  }\n inboxdatatest(conversations)\n {\n  for(var i=0;i<conversations.length;i++)\n  {\n    // conversations[7].LastMessage.Messages.message\n    this.messagefilter=conversations[i].LastMessage.Messages.message\n    this.messagefilter2=this.messagefilter.substring(1,this.messagefilter.length-1)\n    this.titletrim=conversations[i].Conversations.title\n    this.titletrim2=this.titletrim.substring(1,this.titletrim.length-1)\n\n   this.inboxdata2.push(\n     {\n       user_profile_avatar:conversations[i].Users.user_profile_avatar,\n       user_display_name:conversations[i].Users.user_display_name,\n       title:this.titletrim2,\n       last_message:conversations[i].Conversations.last_message,\n       message:this.messagefilter2,\n       conversation_id:conversations[i].Conversations.conversation_id,\n       messageCount:conversations[i][0].messageCount   \n      })\n\n\n\n  }\n  \nreturn this.inboxdata2\n }\n  \n  loadMore(infiniteScroll) {\n    this.loading=true\n    this.page++\n    this.flag=1\n   \n    console.log(this.page)\n    console.log(this.totalpages)\n   \n    this.loaddata(infiniteScroll)\n  //   if(this.totalpages>=this.page)\n  //   {\n  //     this.loaddata(infiniteScroll)\n  //   }\n  //   else\n  //   {\n  //     this.loader=false\n   \n  //  console.log('falsee')\n  //   }\n  \n   \n  }\n  openmsg(id)\n  {\n    this.navCtrl.push('ChatinboxreplyPage',{id:id})\n  }\n  tapshow()\n  {\n    this.navCtrl.push('CreateconversationpagePage')\n  }\n  \n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inboxpage/inboxpage.ts"],"sourceRoot":""}